<p>{{{localize 'Forien.Armoury.ItemRepair.ArmourReceivedDamageTotal' name=item.name damage=item.damage}}}</p>
<div class="repair-buttons">
    <label>{{localize 'Forien.Armoury.ItemRepair.Button.RepairAll'}}:</label>
    <a class="chat-button forien-repair-item" data-armour="true" data-location="all" data-repair="{{item.damage}}"
       data-price="{{item.repairCost}}" data-item="{{item.uuid}}" data-msg="ChatMessage.ChatMessageId">{{item.repairCost}}</a>
</div>
<hr class="forien-armoury-hr" />

{{#each item.locations as |location l|}}
    <div class="repair-item-location">
        <div class="repair-item-location-header">
            <span class="label">{{location.label}}</span>
            <span class="damage">{{localize 'Forien.Armoury.ItemRepair.DamageReceived'}}: {{location.damage}}/{{location.maxDamage}}</span>
        </div>
        <div class="repair-item-location-body">
            <div class="repair-buttons">
                {{#unless (eq location.damage location.maxDamage)}}
                    <label>{{localize 'Forien.Armoury.ItemRepair.Repair1Damage'}}</label>
                    <a class="chat-button forien-repair-item" data-armour="true" data-location="{{location.name}}"
                       data-repair="1" data-price="{{../item.singleRepairCost}}" data-item="{{../item.uuid}}"
                       data-msg="ChatMessage.ChatMessageId">{{../item.singleRepairCost}}</a>
                {{/unless}}
                {{#if (or (gt location.damage 1) (eq location.damage location.maxDamage))}}
                    <label>{{localize 'Forien.Armoury.ItemRepair.RepairAllDamage'}}</label>
                    <a class="chat-button forien-repair-item" data-armour="true" data-location="{{location.name}}"
                       data-repair="{{location.damage}}" data-price="{{location.repairCost}}" data-item="{{../item.uuid}}"
                       data-msg="ChatMessage.ChatMessageId">{{location.repairCost}}</a>
                {{/if}}
            </div>
        </div>
    </div>
{{/each}}
